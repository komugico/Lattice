(this.webpackJsonplattice=this.webpackJsonplattice||[]).push([[0],{33:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"RESET_STATE",(function(){return d})),r.d(n,"PROGRESS_TURN",(function(){return b})),r.d(n,"GRAB_STONE",(function(){return u})),r.d(n,"PUT_STONE",(function(){return h})),r.d(n,"UPDATE_SCORE",(function(){return j})),r.d(n,"UPDATE_BOARD_SIZE",(function(){return S})),r.d(n,"resetState",(function(){return y})),r.d(n,"progressTurn",(function(){return O})),r.d(n,"grabStone",(function(){return x})),r.d(n,"putStone",(function(){return g})),r.d(n,"updateScore",(function(){return m})),r.d(n,"updateBoardSize",(function(){return f}));var a=r(0),o=r.n(a),s=r(12),i=r.n(s),c=r(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=r(23),p=r(6),d="@@game/resetState",b="@@game/progressTurn",u="@@game/grabStone",h="@@game/putStone",j="@@game/updateScore",S="@@game/updateBoardSize",y=function(){return{type:d}},O=function(){return{type:b}},x=function(e){return{type:u,payload:e}},g=function(e){return{type:h,payload:e}},m=function(e){return{type:j,payload:e}},f=function(e){return{type:S,payload:e}},v={lattice:JSON.parse(JSON.stringify(new Array(5).fill(new Array(5).fill(0)))),block:JSON.parse(JSON.stringify(new Array(4).fill(new Array(4).fill(0))))},k=Math.floor(10),B=Math.floor(4.5),z={board:v,stones:{player1:{small:k,big:B},player2:{small:k,big:B}},scores:{player1:0,player2:0},boardSize:100,turn:1,next:1,grabbed:0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return z;case b:return 1===e.next?Object(p.a)(Object(p.a)({},e),{},{turn:e.turn+1,next:2}):Object(p.a)(Object(p.a)({},e),{},{turn:e.turn+1,next:1});case u:return Object(p.a)(Object(p.a)({},e),{},{grabbed:t.payload});case h:var r=t.payload.x,n=t.payload.y,a=e.board,o=e.stones;if(2&e.grabbed){if(0!==a.block[n][r])return Object(p.a)({},e);a.block[n][r]=e.grabbed,1===e.next?o.player1.big=o.player1.big-1:o.player2.big=o.player2.big-1}else{if(0!==a.lattice[n][r])return Object(p.a)({},e);a.lattice[n][r]=e.grabbed,1===e.next?o.player1.small=o.player1.small-1:o.player2.small=o.player2.small-1}return Object(p.a)(Object(p.a)({},e),{},{board:a,stones:o,grabbed:0,turn:e.turn+1,next:1===e.next?2:1});case j:var s={player1:1===e.next?e.scores.player1:e.scores.player1+1,player2:2===e.next?e.scores.player2:e.scores.player2+1};return Object(p.a)(Object(p.a)({},e),{},{scores:s});case S:return Object(p.a)(Object(p.a)({},e),{},{boardSize:t.payload});default:return e}},T=Object(l.a)(M),E=r(7),w=r(8),C=r(10),G=r(9),N=r(37),A=r(35),U=r(36),I=r(38),P=r(39),L=r(40),_=r(1),R=function(e){Object(C.a)(r,e);var t=Object(G.a)(r);function r(e){return Object(E.a)(this,r),t.call(this,e)}return Object(w.a)(r,[{key:"render",value:function(){var e,t,r=.25*Math.floor(this.props.boardSize/5),n=.5*Math.floor(this.props.boardSize/5);return 4&this.props.stone?(e=1&this.props.stone?"/Lattice/img/reversi_black.png":"/Lattice/img/reversi_white.png",t=2&this.props.stone?{height:n+"px",position:"relative",zIndex:1}:{height:r+"px",position:"relative",zIndex:1},Object(_.jsx)("img",{src:e,style:t,alt:""})):Object(_.jsx)("div",{})}}]),r}(a.Component),J=function(e){Object(C.a)(r,e);var t=Object(G.a)(r);function r(e){return Object(E.a)(this,r),t.call(this,e)}return Object(w.a)(r,[{key:"handleClickGrabSmallStone",value:function(){1===this.props.player?this.props.actionGrabStone(4):this.props.actionGrabStone(5)}},{key:"handleClickGrabBigStone",value:function(){1===this.props.player?this.props.actionGrabStone(6):this.props.actionGrabStone(7)}},{key:"smallStones",value:function(){for(var e=new Array,t=0;t<this.props.numSmall;t++)1===this.props.player?e.push(Object(_.jsx)(R,{boardSize:this.props.boardSize,stone:4})):e.push(Object(_.jsx)(R,{boardSize:this.props.boardSize,stone:5}));return e}},{key:"bigStones",value:function(){for(var e=new Array,t=0;t<this.props.numBig;t++)1===this.props.player?e.push(Object(_.jsx)(R,{boardSize:this.props.boardSize,stone:6})):e.push(Object(_.jsx)(R,{boardSize:this.props.boardSize,stone:7}));return e}},{key:"render",value:function(){var e=this,t="outline-primary";this.props.isMyTurn&&4&this.props.grabbed&&!(2&this.props.grabbed)&&(t="primary");var r="outline-primary";return this.props.isMyTurn&&4&this.props.grabbed&&2&this.props.grabbed&&(r="primary"),Object(_.jsxs)(A.a,{children:[Object(_.jsxs)(U.a,{xl:6,lg:6,md:6,sm:6,xs:6,children:[Object(_.jsxs)(L.a,{variant:t,size:"sm",onClick:function(){return e.handleClickGrabSmallStone()},disabled:!this.props.isMyTurn||!this.props.numSmall,block:!0,children:["Grab",Object(_.jsx)("br",{}),"Small Stone"]}),Object(_.jsx)("br",{}),this.smallStones()]}),Object(_.jsxs)(U.a,{xl:6,lg:6,md:6,sm:6,xs:6,children:[Object(_.jsxs)(L.a,{variant:r,size:"sm",onClick:function(){return e.handleClickGrabBigStone()},disabled:!this.props.isMyTurn||!this.props.numBig,block:!0,children:["Grab",Object(_.jsx)("br",{}),"Big Stone"]}),Object(_.jsx)("br",{}),this.bigStones()]})]})}}]),r}(a.Component),D=function(e){Object(C.a)(r,e);var t=Object(G.a)(r);function r(e){return Object(E.a)(this,r),t.call(this,e)}return Object(w.a)(r,[{key:"render",value:function(){return Object(_.jsxs)(P.a,{border:this.props.isMyTurn&&"success",children:[Object(_.jsxs)(P.a.Header,{children:[Object(_.jsx)("b",{children:this.props.playerName}),Object(_.jsx)("i",{children:this.props.isMyTurn&&" It's your turn."})]}),Object(_.jsxs)(P.a.Body,{children:[Object(_.jsx)(P.a.Title,{children:"Score"}),this.props.score," Victory Points",Object(_.jsx)("hr",{}),Object(_.jsx)(P.a.Title,{children:"Operations"}),Object(_.jsx)(L.a,{variant:"outline-danger",disabled:!this.props.isMyTurn,children:"Surrender"}),Object(_.jsx)("hr",{}),Object(_.jsx)(P.a.Title,{children:"Stones"}),Object(_.jsx)(J,{isMyTurn:this.props.isMyTurn,numSmall:this.props.stones.small,numBig:this.props.stones.big,boardSize:this.props.boardSize,player:this.props.player,actionGrabStone:this.props.actionGrabStone,grabbed:this.props.grabbed})]})]})}}]),r}(a.Component),W=function(e){Object(C.a)(r,e);var t=Object(G.a)(r);function r(e){return Object(E.a)(this,r),t.call(this,e)}return Object(w.a)(r,[{key:"tableSmallStone",value:function(e,t){for(var r=[],n=0;n<5;n++)r.push(this.trSmallStone(n,e,t));return Object(_.jsx)("table",{style:{position:"absolute",left:0,top:0},children:Object(_.jsx)("tbody",{children:r})})}},{key:"trSmallStone",value:function(e,t,r){for(var n=[],a=0;a<5;a++)n.push(this.tdSmallStone(a,e,t,r));return Object(_.jsx)("tr",{children:n})}},{key:"tdSmallStone",value:function(e,t,r,n){var a=this,o={width:n+"px",height:n+"px",border:"none",textAlign:"center",zIndex:0,pointerEvents:r?"auto":"none"};return Object(_.jsx)("td",{id:this.idSmallStone(e,t),onMouseEnter:function(){return a.handleMouseEnterSmallStone(e,t)},onMouseLeave:function(){return a.handleMouseLeaveSmallStone(e,t)},onClick:function(){return a.handleClickStone(e,t)},style:o,children:Object(_.jsx)(R,{boardSize:this.props.boardSize,stone:this.props.board.lattice[t][e]})})}},{key:"idSmallStone",value:function(e,t){return"td-small-x"+e+"-y"+t}},{key:"tableBigStone",value:function(e,t){for(var r=[],n=0;n<4;n++)r.push(this.trBigStone(n,e,t));var a={position:"absolute",left:t/2,top:t/2};return Object(_.jsx)("table",{style:a,children:Object(_.jsx)("tbody",{children:r})})}},{key:"trBigStone",value:function(e,t,r){for(var n=[],a=0;a<4;a++)n.push(this.tdBigStone(a,e,t,r));return Object(_.jsx)("tr",{children:n})}},{key:"tdBigStone",value:function(e,t,r,n){var a=this,o={width:n+"px",height:n+"px",border:"solid 1px",textAlign:"center",zIndex:0,pointerEvents:r?"auto":"none"};return Object(_.jsx)("td",{id:this.idBigStone(e,t),onMouseEnter:function(){return a.handleMouseEnterBigStone(e,t)},onMouseLeave:function(){return a.handleMouseLeaveBigStone(e,t)},onClick:function(){return a.handleClickStone(e,t)},style:o,children:Object(_.jsx)(R,{boardSize:this.props.boardSize,stone:this.props.board.block[t][e]})})}},{key:"idBigStone",value:function(e,t){return"td-big-x"+e+"-y"+t}},{key:"handleMouseEnterSmallStone",value:function(e,t){document.getElementById(this.idSmallStone(e,t)).className="stone-select"}},{key:"handleMouseLeaveSmallStone",value:function(e,t){document.getElementById(this.idSmallStone(e,t)).className=""}},{key:"handleMouseEnterBigStone",value:function(e,t){document.getElementById(this.idBigStone(e,t)).className="stone-select"}},{key:"handleMouseLeaveBigStone",value:function(e,t){document.getElementById(this.idBigStone(e,t)).className=""}},{key:"handleClickStone",value:function(e,t){this.props.actionPutStone({x:e,y:t}),this.props.actionUpdateScore()}},{key:"render",value:function(){var e=Math.floor(this.props.boardSize/5);return 4&this.props.grabbed?2&this.props.grabbed?Object(_.jsxs)("div",{style:{position:"relative",paddingTop:"100%"},children:[this.tableSmallStone(!1,e),this.tableBigStone(!0,e)]}):Object(_.jsxs)("div",{style:{position:"relative",paddingTop:"100%"},children:[this.tableBigStone(!1,e),this.tableSmallStone(!0,e)]}):Object(_.jsxs)("div",{style:{position:"relative",paddingTop:"100%"},children:[this.tableBigStone(!1,e),this.tableSmallStone(!1,e)]})}}]),r}(a.Component),H=function(e){Object(C.a)(r,e);var t=Object(G.a)(r);function r(e){var n;return Object(E.a)(this,r),n=t.call(this,e),window.addEventListener("resize",(function(){return n.handleUpdateBoardSize()})),n}return Object(w.a)(r,[{key:"componentDidMount",value:function(){this.handleUpdateBoardSize()}},{key:"handleUpdateBoardSize",value:function(){var e=.9*document.getElementById("board-parent").clientWidth;this.props.actionUpdateBoardSize(e)}},{key:"render",value:function(){return Object(_.jsxs)(P.a,{children:[Object(_.jsxs)(P.a.Header,{children:[Object(_.jsx)("b",{children:"Game Board"})," | Turn ",this.props.turn]}),Object(_.jsx)(P.a.Body,{children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(U.a,{xl:2,lg:2,md:2,sm:2,xs:2}),Object(_.jsx)(U.a,{id:"board-parent",xl:8,lg:8,md:8,sm:8,xs:8,children:Object(_.jsx)(W,{board:this.props.board,boardSize:this.props.boardSize,grabbed:this.props.grabbed,actionPutStone:this.props.actionPutStone,actionUpdateScore:this.props.actionUpdateScore})}),Object(_.jsx)(U.a,{xl:2,lg:2,md:2,sm:2,xs:2})]})})]})}}]),r}(a.Component),V=function(e){Object(C.a)(r,e);var t=Object(G.a)(r);function r(e){return Object(E.a)(this,r),t.call(this,e)}return Object(w.a)(r,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(I.a,{bg:"dark",variant:"dark",children:Object(_.jsx)(I.a.Brand,{href:"/",children:"Lattice"})}),Object(_.jsx)("br",{}),Object(_.jsx)(N.a,{fluid:!0,children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(U.a,{xl:2,lg:2,md:2,children:Object(_.jsx)(D,{playerName:"Player 1",player:1,boardSize:this.props.boardSize,score:this.props.scores.player1,stones:this.props.stones.player1,isMyTurn:1===this.props.next,grabbed:this.props.grabbed,actionGrabStone:this.props.grabStone})}),Object(_.jsx)(U.a,{xl:8,lg:8,md:8,children:Object(_.jsx)(H,{turn:this.props.turn,board:this.props.board,boardSize:this.props.boardSize,grabbed:this.props.grabbed,actionPutStone:this.props.putStone,actionUpdateBoardSize:this.props.updateBoardSize,actionUpdateScore:this.props.updateScore})}),Object(_.jsx)(U.a,{xl:2,lg:2,md:2,children:Object(_.jsx)(D,{playerName:"Player 2",player:2,boardSize:this.props.boardSize,score:this.props.scores.player2,stones:this.props.stones.player2,isMyTurn:2===this.props.next,grabbed:this.props.grabbed,actionGrabStone:this.props.grabStone})})]})})]})}}]),r}(a.Component),Z=Object(c.b)((function(e){return Object(p.a)({},e)}),n)(V);i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(c.a,{store:T,children:Object(_.jsx)(Z,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.76f6d587.chunk.js.map